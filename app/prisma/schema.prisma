// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Artist {
  id            String  @id @default(uuid())
  nickname      String
  email         String?
  walletAddress String?
}
enum Network {
  ETHEREUM
  POLYGON
  GNOSIS
  BASE
  GOERLI
  SEPOLIA
}

enum NetworkStatus {
  PENDING
  CONFIRMED
  FAILED
}

model Order {
  orderId String @id @default(uuid())
  campaignId String
  collectionNetwork Network
  collectionAddress String
  selectedTokenId String
  personalNote String?
  transactionId String?
  mintedTokenId String?
  mintedNetworkId Network?

  // cron job updates the following, based on the txId
  status NetworkStatus?

  // FULFILMENT ATTRIBUTES
  autographData String?
  autographDataURL String?
  metadataUrl String? // after uploading to a decentralised storage
}

model Campaign {
  campaignId String @id @default(uuid())
  networkId Network @default(ETHEREUM)
  defaultURI String?
  binderContract String?
  manifestUrl String?
  whitelistedCollectionAddresses String[]
}
